# FastAPI 基础配置
SECRET_KEY=请替换为随机且复杂的字符串
ENVIRONMENT=development
DEBUG=true
LOGGING_LEVEL=INFO
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 天

# 数据库类型，可选 mysql / sqlite
DB_PROVIDER=sqlite

# --------------------------------------------
# 嵌入模型配置（RAG 检索）
# --------------------------------------------
# 嵌入模型提供方，可选 openai 或 ollama
EMBEDDING_PROVIDER=openai
# OpenAI / 兼容服务的 Base URL，留空则复用 OPENAI_API_BASE_URL
EMBEDDING_BASE_URL=
# 嵌入模型专用 Key，留空则复用 OPENAI_API_KEY
EMBEDDING_API_KEY=
# 默认嵌入模型名称，可根据实际情况调整
EMBEDDING_MODEL=text-embedding-3-large
# 向量维度，建议与模型匹配；未确定时请直接删除本行或填写正确整数
# EMBEDDING_MODEL_VECTOR_SIZE=3072
# 若使用 Ollama 本地模型，配置其服务地址与模型名称
OLLAMA_EMBEDDING_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text:latest

# --------------------------------------------
# 向量数据库（libsql）配置
# --------------------------------------------
VECTOR_DB_URL=file:./storage/rag_vectors.db
VECTOR_DB_AUTH_TOKEN=
VECTOR_TOP_K_CHUNKS=5
VECTOR_TOP_K_SUMMARIES=3
VECTOR_CHUNK_SIZE=480
VECTOR_CHUNK_OVERLAP=120

# MySQL 数据库连接
MYSQL_HOST=host.docker.internal
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=123456
MYSQL_DATABASE=arboris

# SQLite 数据库文件路径（仅在 DB_PROVIDER=sqlite 时生效）
SQLITE_DB_PATH=storage/arboris.db

# 管理员初始化账号（首次启动自动写入数据库）
ADMIN_DEFAULT_USERNAME=admin
ADMIN_DEFAULT_PASSWORD=ChangeMe123!
ADMIN_DEFAULT_EMAIL=admin@example.com

# 默认 LLM 配置（首次启动写入 system_configs 表，之后可在后台修改）
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_API_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL_NAME=gpt-4o-mini
WRITER_CHAPTER_VERSION_COUNT=2

# SMTP 邮件发送配置（发送验证码用）
SMTP_SERVER=smtp.example.com
SMTP_PORT=465
SMTP_USERNAME=no-reply@example.com
SMTP_PASSWORD=your_smtp_password
EMAIL_FROM=小说生成器

# 注册与第三方登录开关
ALLOW_USER_REGISTRATION=true
ENABLE_LINUXDO_LOGIN=false

# Linux.do OAuth 配置信息（启用时请填写真实值）
LINUXDO_CLIENT_ID=
LINUXDO_CLIENT_SECRET=
LINUXDO_REDIRECT_URI=https://your-domain.com/api/auth/linuxdo/register
LINUXDO_AUTH_URL=https://connect.linux.do/oauth2/authorize
LINUXDO_TOKEN_URL=https://connect.linux.do/oauth2/token
LINUXDO_USER_INFO_URL=https://connect.linux.do/api/user
