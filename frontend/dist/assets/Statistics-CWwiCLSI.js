import{A as b,a as x}from"./index-Byhz0bWx.js";import{d as y,f as S,g as C,h as k,i as c,j as d,k as p,B}from"./naive-ui-DOxxWvKY.js";import{k as A,r as i,c as z,o as I,b as V,H as w,I as N,W as e,O as t,P as s,K as E,j as o,N as L,M as r}from"./vue-vendor-CMZ7xYHN.js";const M={class:"card-header"},P=A({__name:"Statistics",setup(j){const n=i(null),u=i(!1),l=i(null),m=i(!1),f=()=>{m.value=window.innerWidth<768},g=z(()=>m.value?1:3),_=async()=>{u.value=!0,l.value=null;try{n.value=await b.getStatistics()}catch(v){l.value=v instanceof Error?v.message:"èŽ·å–ç»Ÿè®¡æ•°æ®å¤±è´¥"}finally{u.value=!1}};return I(()=>{f(),window.addEventListener("resize",f),_()}),V(()=>{window.removeEventListener("resize",f)}),(v,a)=>(N(),w(s(d),{bordered:!1,class:"admin-card"},{header:e(()=>[r("div",M,[a[2]||(a[2]=r("span",{class:"card-title"},"æ•°æ®æ€»è§ˆ",-1)),t(s(B),{quaternary:"",size:"small",onClick:_,loading:u.value},{default:e(()=>[...a[1]||(a[1]=[o(" åˆ·æ–° ",-1)])]),_:1},8,["loading"])])]),default:e(()=>[t(s(y),{vertical:"",size:"large"},{default:e(()=>[l.value?(N(),w(s(S),{key:0,type:"error",closable:"",onClose:a[0]||(a[0]=q=>l.value=null)},{default:e(()=>[o(L(l.value),1)]),_:1})):E("",!0),t(s(C),{show:u.value},{default:e(()=>[t(s(k),{cols:g.value,"x-gap":16,"y-gap":16},{default:e(()=>[t(s(c),null,{default:e(()=>[t(s(d),{class:"stat-card",bordered:!1},{default:e(()=>[a[4]||(a[4]=r("div",{class:"stat-icon"},"ðŸ“š",-1)),t(s(p),{label:"å°è¯´æ€»æ•°",value:n.value?.novel_count??0,"show-separator":""},{suffix:e(()=>[...a[3]||(a[3]=[o("éƒ¨",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),t(s(c),null,{default:e(()=>[t(s(d),{class:"stat-card",bordered:!1},{default:e(()=>[a[6]||(a[6]=r("div",{class:"stat-icon"},"ðŸ‘¥",-1)),t(s(p),{label:"ç”¨æˆ·æ€»æ•°",value:n.value?.user_count??0,"show-separator":""},{suffix:e(()=>[...a[5]||(a[5]=[o("äºº",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),t(s(c),null,{default:e(()=>[t(s(d),{class:"stat-card",bordered:!1},{default:e(()=>[a[8]||(a[8]=r("div",{class:"stat-icon"},"âš¡",-1)),t(s(p),{label:"API è¯·æ±‚æ€»æ•°",value:n.value?.api_request_count??0,"show-separator":""},{suffix:e(()=>[...a[7]||(a[7]=[o("æ¬¡",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1},8,["show"])]),_:1})]),_:1}))}}),H=x(P,[["__scopeId","data-v-a14a24fa"]]);export{H as default};
